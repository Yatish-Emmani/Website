<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout | Honest Restaurant</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#0f0f0f;
    color:white;
}

header{
    background:#000;
    padding:18px 60px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.logo{
    font-size:22px;
    font-weight:600;
    letter-spacing:1px;
}

nav a{
    color:white;
    text-decoration:none;
    margin-left:25px;
}

.container{
    max-width:1000px;
    margin:60px auto;
    padding:0 20px;
}

h1{
    margin-bottom:30px;
}

.cart-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:15px 0;
    border-bottom:1px solid #333;
}

.item-name{
    flex:2;
}

.item-price{
    flex:1;
    color:#d4af37;
}

.qty-stepper{
    display:flex;
    align-items:center;
    gap:10px;
}

.qty-btn{
    background:transparent;
    border:1px solid #d4af37;
    color:#d4af37;
    width:26px;
    height:26px;
    border-radius:50%;
    cursor:pointer;
    font-size:16px;
}

.qty-btn:hover{
    background:#d4af37;
    color:black;
}

.summary{
    margin-top:40px;
    border-top:1px solid #333;
    padding-top:20px;
}

.summary-row{
    display:flex;
    justify-content:space-between;
    margin:8px 0;
}

.total{
    font-size:20px;
    font-weight:600;
}

.checkout-form{
    margin-top:40px;
}

.checkout-form input{
    width:100%;
    padding:12px;
    margin-bottom:15px;
    background:#1a1a1a;
    border:1px solid #333;
    color:white;
    border-radius:6px;
}

.pay-btn{
    width:100%;
    padding:15px;
    background:#d4af37;
    color:black;
    font-weight:600;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-size:16px;
}

.pay-btn:hover{
    opacity:0.9;
}
</style>
</head>

<body>

<header>
    <div class="logo">HONEST</div>
    <nav>
        <a href="menu.html">Back to Menu</a>
    </nav>
</header>

<div class="container">
    <h1>Your Order</h1>

    <div id="cartItems"></div>

    <div class="summary">
        <div class="summary-row">
            <span>Subtotal</span>
            <span id="subtotal">$0.00</span>
        </div>
        <div class="summary-row">
            <span>Tax (6.625%)</span>
            <span id="tax">$0.00</span>
        </div>
        <div class="summary-row total">
            <span>Total</span>
            <span id="total">$0.00</span>
        </div>
    </div>

    <div class="checkout-form">
        <h2>Customer Details</h2>
        <input type="text" placeholder="Full Name" required>
        <input type="email" placeholder="Email Address" required>
        <input type="text" placeholder="Phone Number" required>
        <input type="text" placeholder="Pickup Time (e.g. 6:30 PM)">
        <button class="pay-btn" onclick="checkout()">Proceed to Payment</button>
    </div>

</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartDiv = document.getElementById("cartItems");

function renderCart(){
    cartDiv.innerHTML="";
    cart.forEach((item,index)=>{

        const div=document.createElement("div");
        div.className="cart-item";

        div.innerHTML=`
        <div class="item-name">${item.name}</div>
        <div class="item-price">$${(item.price * item.qty).toFixed(2)}</div>
        <div class="qty-stepper">
            <button class="qty-btn" onclick="changeQty(${index},-1)">âˆ’</button>
            <span>${item.qty}</span>
            <button class="qty-btn" onclick="changeQty(${index},1)">+</button>
        </div>
        `;

        cartDiv.appendChild(div);
    });

    calculateTotals();
}

function changeQty(index,change){
    cart[index].qty += change;

    if(cart[index].qty <=0){
        cart.splice(index,1);
    }

    localStorage.setItem("cart",JSON.stringify(cart));
    renderCart();
}

function calculateTotals(){
    let subtotal = cart.reduce((sum,item)=>sum+(item.price*item.qty),0);
    let tax = subtotal * 0.06625;
    let total = subtotal + tax;

    document.getElementById("subtotal").innerText="$"+subtotal.toFixed(2);
    document.getElementById("tax").innerText="$"+tax.toFixed(2);
    document.getElementById("total").innerText="$"+total.toFixed(2);
}

function checkout(){
    if(cart.length===0){
        alert("Your cart is empty.");
        return;
    }

    alert("Payment integration ready. Next step: connect Stripe.");
    localStorage.removeItem("cart");
    window.location.href="menu.html";
}

renderCart();
</script>

</body>
</html>
