<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu | Honest Restaurant</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .page-title {
            text-align: center;
            margin: 50px 0 20px;
            font-size: 48px;
            font-family: 'Playfair Display', serif;
            color: #d4af37;
        }

        .category-title {
            margin: 50px 80px 20px;
            font-size: 28px;
            font-family: 'Playfair Display', serif;
            border-left: 4px solid #d4af37;
            padding-left: 15px;
            color: #d4af37;
        }

        @media (max-width: 768px) {
            .category-title {
                margin: 40px 30px 15px;
                font-size: 24px;
            }
        }

        .menu-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            padding: 0 80px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .menu-container {
                padding: 0 30px 40px;
                grid-template-columns: 1fr;
            }
        }

        .menu-card {
            background: #1a1a1a;
            padding: 25px;
            border-radius: 12px;
            transition: 0.3s ease;
            border: 1px solid rgba(212,175,55,0.1);
        }

        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212,175,55,0.15);
            border-color: rgba(212,175,55,0.3);
        }

        .menu-card h4 {
            margin: 0 0 15px 0;
            font-weight: 500;
            font-size: 18px;
            color: #f5f5f5;
        }

        .menu-price {
            color: #d4af37;
            font-size: 20px;
            font-weight: 600;
        }

        .qty-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 15px;
        }

        .qty-stepper {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .qty-btn {
            background: transparent;
            border: 2px solid #d4af37;
            color: #d4af37;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qty-btn:hover {
            background: #d4af37;
            color: #000;
        }

        .qty-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .qty-value {
            min-width: 30px;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
        }

        .add-to-cart {
            background: linear-gradient(135deg, #d4af37, #b8902f);
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s ease;
            font-size: 14px;
        }

        .add-to-cart:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(212,175,55,0.4);
        }

        .empty-cart-msg {
            text-align: center;
            padding: 40px;
            color: #aaa;
        }
    </style>
</head>

<body>

<header>
    <div class="logo">
        <a href="index.html">HONEST</a>
    </div>
    <nav>
        <a href="index.html">Home</a>
        <a href="menu.html">Menu</a>
        <a href="order.html">Cart<span id="cartCount" class="cart-count">0</span></a>
        <a href="team.html">Our Team</a>
        <a href="contact.html">Contact</a>
    </nav>
</header>

<h1 class="page-title">Our Menu</h1>

<div id="menu"></div>

<script src="js/menu-data.js"></script>
<script src="js/cart.js"></script>
<script>
const menuDiv = document.getElementById("menu");

Object.keys(menuData).forEach(category => {
    const title = document.createElement("h2");
    title.className = "category-title";
    title.innerText = category;
    menuDiv.appendChild(title);

    const container = document.createElement("div");
    container.className = "menu-container";

    menuData[category].forEach(item => {
        const card = document.createElement("div");
        card.className = "menu-card";

        // Get current quantity from cart
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let existing = cart.find(p => p.name === item.name);
        let currentQty = existing ? existing.qty : 0;

        card.innerHTML = `
            <h4>${item.name}</h4>
            <div class="qty-controls">
                <span class="menu-price">$${item.price.toFixed(2)}</span>
                <div class="qty-stepper">
                    <button class="qty-btn minus" ${currentQty === 0 ? 'disabled' : ''}>−</button>
                    <span class="qty-value">${currentQty}</span>
                    <button class="qty-btn plus">+</button>
                </div>
            </div>
        `;

        const qtyValue = card.querySelector(".qty-value");
        const plusBtn = card.querySelector(".plus");
        const minusBtn = card.querySelector(".minus");

        plusBtn.onclick = () => {
            let current = parseInt(qtyValue.innerText);
            current++;
            qtyValue.innerText = current;
            minusBtn.disabled = false;
            updateCart(item.name, item.price, current);
        };

        minusBtn.onclick = () => {
            let current = parseInt(qtyValue.innerText);
            if (current > 0) {
                current--;
                qtyValue.innerText = current;
                if (current === 0) {
                    minusBtn.disabled = true;
                }
                updateCart(item.name, item.price, current);
            }
        };

        container.appendChild(card);
    });

    menuDiv.appendChild(container);
});

updateCartCount();
</script>

<footer>
    <p>© 2026 Honest Restaurant | Crafted with Excellence</p>
</footer>

</body>
</html>